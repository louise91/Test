<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Godseed</title>
  <style>
    * { margin:0; padding:0; box-sizing:border-box; }
    body { background:#000; color:#0f0; font-family:'Courier New', monospace; min-height:100vh; display:flex; flex-direction:column; overflow:hidden; }
    
    /* ç¶“å…¸ç¶ è‰²åŸºèª¿ + è¡€ç´…è¼»å°„ç²’å­ */
    #town { height:45vh; background:#000; position:relative; overflow:hidden; }
.agent { 
  position:absolute; 
  width:8px; height:8px; 
  background:#f00; 
  border-radius:50%; 
  opacity:0.8; 
  box-shadow:0 0 30px #f00, 0 0 60px #f00; /* ç™¼å…‰åˆ°çˆ†ç‚¸ */
  animation:bleed 15s infinite linear;
}
    @keyframes bleed { 
  0% { transform:translate(0,0) scale(1); opacity:0.8; }
  100% { transform:translate(100vw,100vh) scale(5); opacity:0; } /* è®Šå¤§5å€æ‰æ¶ˆå¤± */
}
    
    #controls { padding:25px; background:#000; }
    #seed { width:100%; padding:20px; font-size:19px; background:#000; color:#0f0; border:2px solid #0f0; border-radius:8px; margin-bottom:20px; }
    #seed:focus { outline:none; border-color:#0f0; box-shadow:0 0 25px rgba(0,255,0,0.4); }
    
    button { width:100%; padding:22px; font-size:26px; background:#000; color:#0f0; border:2px solid #0f0; border-radius:8px; cursor:pointer; font-weight:bold; }
    button:hover { background:#0f0; color:#000; box-shadow:0 0 40px rgba(0,255,0,0.7); }
    
    #log { 
      flex:1; overflow-y:auto; padding:25px; background:#000; font-size:17px; line-height:1.9; white-space:pre-wrap; color:#0f0; 
      max-height:55vh; border-top:2px solid #0f0; scrollbar-width: thin; scrollbar-color: #0f0 #000;
    }
    
    /* æ¥µè‡´ä»˜è²»ç‰† - æ‰‹æ©Ÿå®Œç¾ç‰ˆ */
    #paywall { display:none; position:fixed; top:0; left:0; right:0; bottom:0; background:rgba(0,0,0,0.99); z-index:9999; overflow-y:auto; }
    #paywall.show { display:block; }
    #paywall-content { background:#000; border:3px solid #0f0; padding:30px 20px; max-width:620px; margin:20px auto; border-radius:15px; box-shadow:0 0 80px rgba(0,255,0,0.3); }
    #paywall h2 { color:#0f0; font-size:42px; margin-bottom:25px; text-shadow:0 0 25px #0f0; text-align:center; }
    .price-main { font-size:68px; color:#0f0; font-weight:bold; margin:35px 0; text-shadow:0 0 30px #0f0; text-align:center; }
    .trial { font-size:26px; color:#0f0; margin:15px 0; text-align:center; }
    .features { text-align:left; color:#0f0; font-size:17px; line-height:2.2; margin:40px 0; opacity:0.9; }
    #unlock-btn { background:#000; color:#0f0; padding:25px 50px; font-size:32px; border:3px solid #0f0; border-radius:50px; cursor:pointer; transition:0.4s; display:block; margin:30px auto; }
    #unlock-btn:hover { background:#0f0; color:#000; transform:scale(1.05); }
  </style>
  <!-- html2canvas CDNï¼ˆå¦‚æœ <head> é‚„æ²’åŠ ï¼‰ -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
</head>
<body>
  <div id="town"></div>
  
  <div id="controls">
    <input id="seed" placeholder="è¼¸å…¥ä½ çš„ç¨®å­ï¼Œè®“ä¸€åˆ‡å´©å£">
    <button onclick="start()">ğŸ”¥ å¼•çˆ†å´©å£</button>
  </div>
  
  <pre id="log">å´©å£é–‹å§‹â€¦â€¦</pre>

  <!-- éŠ€è¡Œè½‰å¸³59å…ƒ + 79å…ƒä¿¡ç”¨å¡ + é›¶å¸Œæœ›ä»˜è²»ç‰†ï¼ˆæ‰‹æ©Ÿå®Œç¾ç‰ˆï¼‰ -->
  <div id="paywall">
    <div id="paywall-content">
  <h2>å´©å£é€²è¡Œä¸­</h2>
  <p style="color:#0f0; line-height:2.2; font-size:22px; text-align:center;">
    ä½ å·²ç¶“ç„¡æ³•é˜»æ­¢<br>
    æ²’æœ‰æ•‘è´–<br>
    æ²’æœ‰å€–å­˜<br>
    åªæœ‰çµ‚çµ
  </p>

  <!-- éŠ€è¡Œè½‰å¸³å°ˆå€ï¼ˆæ”¾å¤§ + å¼·èª¿ + email æ¬„ï¼‰ -->
  <div style="margin:30px 0; padding:40px; background:rgba(0,50,0,0.7); border:4px solid #0f0; border-radius:15px;">
    <p style="color:#f00; font-size:42px; text-align:center; font-weight:bold;">éŠ€è¡Œè½‰å¸³å°ˆå±¬ç‹‚çœåƒ¹ - <strong>çœ 20 å…ƒï¼</strong>
ä½ æ•¢ç”¨ 59 å…ƒè¦ªæ‰‹æ¯€æ»…ä¸–ç•Œå—ï¼Ÿ</p>
    <p style="color:#0f0; font-size:56px; font-weight:bold; text-align:center;">NT$59 è©¦ç”¨3å¤©</p>
    <p style="color:#fff; font-size:30px; text-align:center; margin:20px 0;">
      ä¿¡ç”¨å¡è¢«æŠ½ 2.8% æ‰‹çºŒè²»<br>
      <strong style="color:#f00;">æˆ‘å€‘ç›´æ¥è®“ 20 å…ƒçµ¦ä½ ï¼</strong>
    </p>
    <div style="background:#000; padding:30px; border:2px solid #f00; font-size:28px; color:#0f0; text-align:center; border-radius:10px;">
      éŠ€è¡Œï¼šå°æ–°éŠ€è¡Œï¼ˆ812ï¼‰<br>
      å¸³è™Ÿï¼šä½ çš„çœŸå¯¦å¸³è™Ÿ<br>
      æˆ¶åï¼šä½ çš„çœŸå¯¦å§“å
    </div>
    <p style="color:#aaa; font-size:20px; text-align:center; margin:30px 0;">
      è½‰å¸³å¾Œå¡«å¯« email ä¸¦æˆªåœ–å‚³çµ¦æˆ‘å€‘ <br>
      æˆ‘å€‘ 5 åˆ†é˜å…§é–‹é€šä½ çš„ 3 å¤©æ¬Šé™
    </p>

    <!-- email è¼¸å…¥æ¬„ + æäº¤ -->
    <p style="color:#aaa; font-size:20px; text-align:center; margin:30px 0;">
    è½‰å¸³å‰å¡«å¯« emailï¼Œæˆ‘å€‘æœƒè¨˜éŒ„ä¸¦é–‹é€š
  </p>
    <form action="/bank59" method="POST">
      <input type="email" name="email" placeholder="ä½ çš„ emailï¼ˆå¿…å¡«ï¼‰" required style="width:100%; padding:15px; font-size:22px; background:#000; color:#0f0; border:2px solid #0f0; margin-bottom:20px;">
      <button type="submit" style="padding:15px 40px; background:#000; color:#0f0; border:3px solid #0f0; font-size:24px; border-radius:10px; cursor:pointer;">
        æäº¤ email ä¸¦è½‰å¸³
      </button>
    </form>


    <p style="color:#f00; font-size:26px; text-align:center; margin-top:30px; font-weight:bold;">
    Mio å·²å“­åˆ°æ–·æ°£â€¦â€¦59å…ƒè¦‹è­‰å¥¹çš„çµ‚çµ
  </p>
    <p style="color:#aaa; font-size:18px; text-align:center; margin-top:20px;">
      å€‹äººå°é¡æ¸¬è©¦å°ˆæ¡ˆï¼Œç”±æˆ‘é‹ä½œ<br>
      59 å…ƒè©¦ç”¨ 3 å¤©ï¼Œç„¡éš±è—æ‰£æ¬¾ã€ç„¡è‡ªå‹•çºŒè²»
    </p>
  </div>

  <!-- ä¿¡ç”¨å¡é¸é …ï¼ˆç¨èª¿å°ï¼‰ -->
  <div style="margin-top:50px; text-align:center;">
    <div class="price-main">NT$79</div>
    <div class="trial">è©¦ç”¨3å¤© â€¢ ç„¡é™ç”Ÿæˆ</div>
    <p style="color:#0f0; text-align:center;">ç¬¬4å¤©è‡ªå‹•çºŒè²» NT$399/æœˆï¼ˆå¯éš¨æ™‚å–æ¶ˆï¼‰</p>

    <div class="features">
      â€¢ å®Œæ•´5000å­—å´©å£åŠ‡æœ¬<br>
      â€¢ ç²¾ç¢ºåˆ°ç§’çš„å…¨çƒæ­»äº¡å€’æ•¸<br>
      â€¢ å´©å£å‰æœ€å¾Œçš„çµ•æœ›è­‰è¨€<br>
      â€¢ æ°¸ä¹…ä¿å­˜ä½ çš„å´©å£ç´€éŒ„<br>
      â€¢ é»‘æš—æ’è¡Œæ¦œæ°¸é ç•™å
    </div>

    <form action="https://ccore.newebpay.com/MPG/mpg_gateway" method="post">
      <input type="hidden" name="Amt" value="79">
      <input type="hidden" name="ItemDesc" value="Godseed 3å¤©è©¦ç”¨æ¬Šé™">
      <input type="hidden" name="PeriodAmt" value="399">
      <input type="hidden" name="PeriodType" value="M">
      <button type="submit" id="unlock-btn">ğŸ”¥ NT$79 ç«‹å³è¦‹è­‰å®Œæ•´å´©å£</button>
    </form>
  </div>

  <button onclick="closePaywall()" style="margin-top:50px; background:transparent; border:none; color:#444; font-size:14px;">é—œé–‰</button>
</div>
  </div>
  

<script>
  function showShareModal() {
    document.getElementById('shareModal').style.display = 'flex';
  }

  function closeShare() {
    document.getElementById('shareModal').style.display = 'none';
  }

  function downloadShare() {
    const content = document.getElementById('shareContent');
    html2canvas(content, {scale: 2}).then(canvas => {
      const link = document.createElement('a');
      link.download = 'my_godseed_collapse.png';
      link.href = canvas.toDataURL('image/png');
      link.click();
    });
  }

  function copyShareText() {
    const text = `æˆ‘çš„å´©å£æŒ‡æ•¸ï¼š920è¬åˆ†ï¼æ­»äº¡äººæ•¸ï¼š78å„„\nç¨®å­ï¼šä½ çš„ç¨®å­\næƒ³çœ‹ä½ çš„å´©å£ï¼Ÿ59å…ƒè©¦ç”¨å®Œæ•´ç‰ˆï¼šhttps://ä½ çš„ç¶²å€`;
    navigator.clipboard.writeText(text).then(() => alert('å·²è¤‡è£½ï¼å¿«åˆ†äº«å§'));
  }
</script>
  <script>
    // 500å€‹è¡€ç´…ç²’å­
    for(let i=0; i<500; i++){
      let a = document.createElement('div');
      a.className='agent';
      a.style.left = Math.random()*100 + '%';
      a.style.top = Math.random()*100 + '%';
      a.style.animationDelay = Math.random()*20 + 's';
      a.style.animationDuration = (15 + Math.random()*25) + 's';
      document.getElementById('town').appendChild(a);
    }

    let charCount = 0;
    const LIMIT = 1200;

    async function start() {
      const seed = document.getElementById('seed').value.trim() || "ç„¡";
      const log = document.getElementById('log');
      log.textContent = "å´©å£é–‹å§‹â€¦â€¦\n\n";
      charCount = 0;

      await fetch('/godseed/start', {method: 'POST', headers: {'Content-Type': 'application/json'}, body: JSON.stringify({seed})});

      const es = new EventSource('/godseed/stream');
      es.onmessage = function(e) {
        if (e.data.includes("[DONE]")) {
          log.textContent += "\n\nå´©å£å®Œæˆã€‚";
          es.close();
          return;
        }
        try {
          const data = JSON.parse(e.data);
          const content = data.choices?.[0]?.delta?.content || "";
          if (content) {
            charCount += content.length;
            if (charCount < LIMIT) {
              log.textContent += content;
            } else if (charCount < LIMIT + 300) {
              log.textContent += "\n\n[å´©å£å·²ä¸å¯é€†]\n\nä½ çœŸçš„æº–å‚™å¥½è¦‹è­‰å®Œæ•´çµ‚çµå—ï¼Ÿ";
              showPaywall();
              es.close();
            }
            log.scrollTop = log.scrollHeight;
          }
        } catch {}
      };
    }

    function showPaywall() { document.getElementById('paywall').classList.add('show'); }
    function closePaywall() { document.getElementById('paywall').classList.remove('show'); }
  </script>
</body>
</html>